<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Linfeng Hu" />


<title>Report</title>

<script src="site_libs/header-attrs-2.18/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">BST260 Final Project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Exploratory Data Analysis</a>
</li>
<li>
  <a href="prediction.html">Prediction</a>
</li>
<li>
  <a href="Report.html">Report</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Report</h1>
<h4 class="author">Linfeng Hu</h4>

</div>


<div id="introduction-background" class="section level2">
<h2>Introduction &amp; Background</h2>
<p>This project aims to examine the potential association between 75
individual-level features such as socioeconomic status and health
indicators, and depression onset. The original data come from a 2015
study conducted by the Busara Center in rural Siaya County in western
Kenya; all study participants were asked to complete depression
screening to determine the outcome of interest. (The Original Link is
here: <a
href="https://zindi.africa/competitions/busara-mental-health-prediction-challenge/data"
class="uri">https://zindi.africa/competitions/busara-mental-health-prediction-challenge/data</a>).
From this heterogeneous data, we aim to use regression in investigating
the association, and use machine learning methods in predicting
individual level depression.</p>
<div id="eda" class="section level3">
<h3>EDA</h3>
<p>First, we check for missing data included in our dataset. There are
in total 23 out of 75 features that includes missing NAs. Since we have
huge number of features included, it is understandable that there are
very few observations with no missing values at all. We proceed with a
naive approach by replacing the missing values with the mean for each
feature.</p>
<p>I then chose to examine the covariates that I have a clear
understanding for, since we need to identify potential confounding in
the model and one cannot refer to the classical/epidemiological
definition of confounding if they do not fully understand the nature of
that factor. So we only have 20 features left for modeling the
association.</p>
<p>I proceeded with using an influence plot which graphs the studentized
residuals against hat values —- fitted values made by my logistic model,
and the sizes and fill color of the red circles are proportional to
Cook’s distance. We can see that there are around 4 points with large
studentized residuals with their Cook’s distances labeled. We can see
that although these 4 points are labeled because of their large residual
values, none of the points have an absolute value larger than 3.
Therefore we temporarily conclude that there is no obvious outlier in
our dataset. <img src="influencePlot.png" alt="Influence Plot" /></p>
<p>From the correlation matrix of all our covariates, we can observe
that factors that are highly correlated (correlation &gt; 0.6) include
hhsize &amp; children &amp; hh_totalmembers &amp; hhchildren,
cons_nondurable and cons_allfood and cons_med_total. Therefore, we
proceed to eliminate covariates that are highly correlated in our model.
After further cleaning, we have the influenceIndexPlot below. <img
src="influenceIndexPlot.png" alt="Diagnostic Plot" /></p>
</div>
<div id="description-justification-of-methodology"
class="section level3">
<h3>Description &amp; justification of Methodology</h3>
<p>The data set is heavily imbalanced with only 16% of participants
having the outcome of interest. Using imbalanced data set may result in
poor outcomes in the ROC-AUC result. Therefore we generated a sample of
synthetic data by Randomly Over Sampling Examples (ROSE) which resulted
in a roughly balanced data set to combat this problem.</p>
<p>From the ROC curve of a general logistic regression fitted for this
dataset, we can see that it comes quite closer to the diagonal line,
indicating low accuracy. From the general model summary, we can also see
that most of the covariates are not statistically significant in the
classification. This may be due to the fact that the linearity
assumption in the predictors does not hold well.</p>
<p>Therefore we can conclude that this general linear model is not
sufficient to depict the relationship of the covariates listed and the
outcome of interest depression status. We proceed with other machine
learning approaches.</p>
</div>
</div>
<div id="results" class="section level2">
<h2>Results</h2>
<p>We first drop unnecessary features for our analysis such as village
identifier, personal identification number and the survey date. We then
create initial data partition for further examination.</p>
<div id="logistic-regression-with-tuned-parameters"
class="section level3">
<h3>Logistic Regression with tuned parameters</h3>
</div>
<div id="knn" class="section level3">
<h3>kNN</h3>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
